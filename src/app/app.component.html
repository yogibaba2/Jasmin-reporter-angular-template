<mat-sidenav-container class="side-nav-container" >
    <mat-sidenav #sidenav mode="side">
        <mat-toolbar>Toolbar</mat-toolbar>
    </mat-sidenav>
  
    <mat-sidenav-content>
        <mat-toolbar justify-space-between>
            <button mat-button (click)="sidenav.toggle()">
              <mat-icon>menu</mat-icon>
            </button>
            <span>{{title | titlecase}}</span>
        </mat-toolbar>
        <mat-grid-list class="suites" cols="3" rowHeight="fit">
          <mat-grid-tile class="test-pane" [colspan]= "1" >
            <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="suites-tree">
              <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                <li class="mat-tree-node" (click)="selectSuite(node)">
                  <button mat-icon-button >
                    <mat-icon class="mat-icon-rtl-mirror">ac_unit</mat-icon>
                  </button>
                  {{node.description | titlecase}}
                </li>
              </mat-tree-node>
              <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
                  <li>
                    <div class="mat-tree-node">
                      <button mat-icon-button matTreeNodeToggle
                              [attr.aria-label]="'toggle ' + node.id">
                        <mat-icon class="mat-icon-rtl-mirror">
                          {{nestedTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                      </button>
                      {{node.description | titlecase}}
                    </div>
                    <ul [class.suite-tree-invisible]="!nestedTreeControl.isExpanded(node)">
                      <ng-container matTreeNodeOutlet></ng-container>
                    </ul>
                  </li>
                </mat-nested-tree-node>
            </mat-tree>
        </mat-grid-tile>
        <mat-grid-tile [colspan]= "2" class="spec-pane">
          <div>
            <h3 mat-header>{{(selectedSuite && selectedSuite.fullName) || 'Select a Suite from left pane' | titlecase}}</h3>
            <mat-accordion *ngIf="selectedSuite" class="spec-list">
              <mat-expansion-panel *ngFor="let spec of selectedSuite._specs">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    <mat-icon>whatshot</mat-icon>
                    {{spec.description | titlecase}}
                  </mat-panel-title>
                  <mat-panel-description>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <mat-list>
                    <h3 mat-subheader>Passed</h3>
                    <mat-list-item *ngFor="let iteration of spec.passedExpectations">
                      <mat-icon mat-list-icon color="primary">thumb_up_alt</mat-icon>
                      <h4 mat-line>{{'Assertion used: ' + iteration.matcherName}}</h4>
                    </mat-list-item>
                    <mat-divider></mat-divider>
                    <h3 mat-subheader>Failed</h3>
                    <mat-list-item *ngFor="let iteration of spec.failedExpectations">
                      <mat-icon mat-list-icon color="warn">thumb_down_alt</mat-icon>
                      <h4 mat-line>{{'Assertion failed: ' + iteration.message}}</h4>
                    </mat-list-item>
                    <mat-divider></mat-divider>
                    <h3 mat-subheader>Screenshot</h3>
                    <mat-icon mat-list-icon >image</mat-icon>
                    <mat-card class="screenshot-card">
                        <mat-card-header>
                            <mat-card-title>{{spec.id}}</mat-card-title>
                            <mat-card-subtitle>{{spec.screenshot}}</mat-card-subtitle>
                        </mat-card-header>
                        <img mat-card-image [src]="'./assets/image/'+spec.screenshot" alt="Photo of a Shiba Inu">
                    </mat-card>
                </mat-list>
              </mat-expansion-panel>
            </mat-accordion>
          </div> 
        </mat-grid-tile>
        </mat-grid-list>
        <mat-grid-list class="graph" cols="3" rowHeight="fit">
            <mat-grid-tile [colspan]= "1" [rowspan]="1">
                <mat-card>
                    <mat-card-subtitle>Suite View</mat-card-subtitle>
                    <mat-card-content>
                      <div [hidden]="!suiteChart">
                          <canvas id="canvas-chart-suite">{{ suiteChart }}</canvas>
                      </div>
                    </mat-card-content>
                    <mat-card-footer></mat-card-footer>
                </mat-card>
            </mat-grid-tile>
            <mat-grid-tile [colspan]= "1" [rowspan]="1">
                <mat-card>
                    <mat-card-subtitle>Spec View</mat-card-subtitle>
                    <mat-card-content>
                      <div [hidden]="!specChart">
                          <canvas id="canvas-chart-spec">{{ specChart }}</canvas>
                      </div>
                    </mat-card-content>
                    <mat-card-footer></mat-card-footer>
                </mat-card>
            </mat-grid-tile>
            <mat-grid-tile [colspan]= "1" [rowspan]="1">
                <mat-card>
                    <mat-card-subtitle>Expect View</mat-card-subtitle>
                    <mat-card-content>
                      <div [hidden]="!expectChart">
                          <canvas id="canvas-chart-expect">{{ expectChart }}</canvas>
                      </div>
                    </mat-card-content>
                    <mat-card-footer></mat-card-footer>
                </mat-card>
            </mat-grid-tile>
        </mat-grid-list>
    </mat-sidenav-content>
  </mat-sidenav-container>